name: contract_retention
steps:
  - name: contrato
    path: https://mail-generator.herokuapp.com/generate?domain=hotmail
    method: GET
    vars:
      fullBody: response.body
      email: response.body.mail
      statusCode: response.statusCode
    tests:
      - name: return_hotmal
        expected: "hotmail"
        actual: ${email}
        type: contains
      - name: status_ok
        expected: 200
        actual: ${statusCode}
        type: equals
  - name: contrato2
    path: https://mail-generator.herokuapp.com/generate?domain=${email}
    method: GET
    vars:
      email2: response.body.mail
    tests:
      - name: return_hotmal
        expected: "hotmail"
        actual: ${email2}
        type: contains